{% extends "base.html" %}
{% block content %}
{% import "macros/buttons.html" as buttons %}
{% import "macros/misc.html" as misc %}

{{misc.display_message("#{message}")}}


<h1>Kilpailun <a href="{{base_path}}/competition/{{competition.id}}">{{competition.name}}</a> osallistujat</h1>

<p>
    {{buttons.add_button("#{base_path}/competition/#{competition.id}/participants/new", "Lisää osallistuja")}}
</p>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Kilpailija</th>
            <th>Numero</th>
            <th></th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        {% for participant in participants %}
        <tr>
            <td><a href="{{base_path}}/competitor/{{participant.competitor_id}}">{{participant.competitor_name}}</a></td>
            <td>{{participant.number}}</td>
            <th>{{buttons.edit_button_sm("#{base_path}/participant/#{participant.id}/edit")}}</th>
            <th>{{buttons.destroy_button_sm("#{base_path}/participant/#{participant.id}/destroy", "Oletko varma että haluat poistaa kilpailijan #{participant.competitor_name} kilpailusta #{participant.competition_name}?")}}</th>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
